#
# Mageia kernel series file
#
# This file describes the order in which patches should be applied
# in the kernel and why the patch is needed.
#
# Luiz Fernando N. Capitulino
# <lcapitulino@mandriva.com.br>

###
### Upstream git
###

###
### Stable Queue
###
stable-x86-ldt-make-modify_ldt-synchronous.patch
stable-x86-ldt-correct-ldt-access-in-single-stepping-logic.patch
stable-x86-ldt-correct-fpu-emulation-access-to-ldt.patch
stable-x86-ldt-further-fix-fpu-emulation.patch
stable-drm-radeon-don-t-link-train-displayport-on-hpd-until-we-get-the-dpcd.patch
stable-drm-i915-apply-the-pci_d0-d3-hibernation-workaround-everywhere-on-pre-gen6.patch
stable-drm-i915-check-dp-link-status-on-long-hpd-too.patch
stable-drm-radeon-atom-send-out-the-full-aux-address.patch
stable-drm-radeon-native-send-out-the-full-aux-address.patch
stable-drm-radeon-fix-hdmi-quantization_range-for-pre-dce5-asics.patch
stable-drm-i915-preserve-ssc-earlier.patch
stable-drm-qxl-validate-monitors-config-modes.patch
stable-drm-i915-allow-dsi-dual-link-to-be-configured-on-any-pipe.patch
stable-drm-i915-always-mark-the-object-as-dirty-when-used-by-the-gpu.patch
stable-drm-i915-limit-the-number-of-loops-for-reading-a-split-64bit-register.patch
stable-s390-sclp-fix-compile-error.patch
stable-s390-setup-fix-novx-parameter.patch
stable-iio-bmg160-iio_buffer-and-iio_triggered_buffer-are-required.patch
stable-iio-event-remove-negative-error-code-from-iio_event_poll.patch
stable-iio-industrialio-buffer-fix-iio_buffer_poll-return-value.patch
stable-iio-adis16400-fix-adis16448-gyroscope-scale.patch
stable-iio-add-inverse-unit-conversion-macros.patch
stable-iio-adis16480-fix-scale-factors.patch
stable-sched-fix-cpu_active_mask-cpu_online_mask-race.patch
stable-staging-comedi-adl_pci7x3x-fix-digital-output-on-pci-7230.patch
stable-staging-comedi-usbduxsigma-don-t-clobber-ai_timer-in-command-test.patch
stable-staging-comedi-usbduxsigma-don-t-clobber-ao_timer-in-command-test.patch
stable-pm-clk-don-t-return-int-on-__pm_clk_enable.patch
stable-clk-rockchip-rk3288-add-clk_set_rate_parent-to-sclk_mac.patch
stable-clk-exynos4-fix-wrong-clock-for-exynos4x12-adc.patch
stable-clk-s5pv210-add-missing-call-to.patch
stable-clk-pistachio-fix-override-of-clk-pll-settings-from-boot-loader.patch
stable-clk-pistachio-correct-critical-clock-list.patch
stable-clk-versatile-off-by-one-in-clk_sp810_timerclken_of_get.patch
stable-clk-pxa-fix-core-frequency-reporting-unit.patch
stable-clk-qcom-set-clk_set_rate_parent-on-ce1-clocks.patch
stable-clk-qcom-fix-msm8916-prng-clock-enable-bit.patch
stable-pci-fix-ti816x-class-code-quirk.patch
stable-pci-add-dev_flags-bit-to-access-vpd-through-function-0.patch
stable-pci-add-vpd-function-0-quirk-for-intel-ethernet-devices.patch
stable-pci-disable-async-suspend-resume-for-jmicron-multi-function-sata-ahci.patch
stable-spi-bcm2835-set-up-spi-mode-before-asserting-cs-gpio.patch
stable-spi-fix-regression-in-spi-bitbang-txrx.h.patch
stable-spi-sh-msiof-fix-fifo-size-to-64-word-from-256-word.patch
stable-spi-img-spfi-check-for-timeout-error-before-proceeding.patch
stable-spi-img-spfi-fix-multiple-calls-to-request-gpio.patch
stable-spi-img-spfi-fix-kbuild-test-robot-warning.patch
stable-spi-dw-allow-interface-drivers-to-limit-data-i-o-to-word-sizes.patch
stable-usb-symbolserial-use-usb_get_serial_port_data.patch
stable-usb-qcserial-add-hp-lt4111-lte-ev-do-hspa-gobi-4g-module.patch
stable-usb-ftdi_sio-added-custom-pid-for-customware-products.patch
stable-usb-pl2303-fix-baud-rate-divisor-calculations.patch
stable-libxfs-readahead-of-dir3-data-blocks-should-use-the-read-verifier.patch
stable-xfs-fix-xfs_attr_leafblock-definition.patch
stable-xfs-fix-file-type-directory-corruption-for-btree-directories.patch
stable-usb-gadget-m66592-udc-forever-loop-in-set_feature.patch
stable-doc-usb-gadget-testing-using-the-updated-testusb.c.patch
stable-usb-dwc3-ep0-fix-mem-corruption-on-out-transfers-of-more-than-512-bytes.patch
stable-usb-gadget-f_uac2-finalize-wmaxpacketsize-according-to-bandwidth.patch
stable-usb-host-ehci-sys-delete-useless-bus_to_hcd-conversion.patch
stable-tty-serial-men_z135_uart.c-fix-race-between-irq-and-set_termios.patch
stable-asoc-rt5640-fix-line-out-no-sound-issue.patch
stable-asoc-samsung-remove-redundant-arndale_audio_remove.patch
stable-asoc-adav80x-remove-.read_flag_mask-setting-from-adav80x_regmap_config.patch
stable-asoc-arizona-fix-gain-settings-of-fll-in-free-run-mode.patch
stable-asoc-arizona-poll-for-fll-clock-ok-rather-than-use-interrupts.patch

###
### Arch x86
###

# laptop needing pci=assign-busses (#18989, needs to be submitted upstream)
x86-pci-toshiba-equium-a60-assign-busses.patch

# If users choose a bad video mode, allow to jump to
# a working one (TTL: forever)
x86-boot-video-80x25-if-break.patch

# Allow poweroff on UP machines running SMP kernels
x86-default_poweroff_up_machines.patch

# Fix #38760, need to be revised and submitted upstream
# BROKEN: x86-cpufreq-speedstep-dothan-3.patch

# raise vmalloc to fix https://bugs.mageia.org/show_bug.cgi?id=904
x86-increase-default-minimum-vmalloc-area-by-64MB-to-192MB.patch

# slows down boot
Revert-cpufreq-pcc-Enable-autoload-of-pcc-cpufreq-fo.patch

###
### Core
###

###
### i2c
###

###
### PCI core
###

# BROKEN: pci-pciprobe-CardBusNo.patch

# http://lkml.org/lkml/2008/9/12/52
pci-add-ALI-M5229-ide-compatibility-mode-quirk.patch
pci-quirks-drop-devinit-exit.patch

# Intel ACS quirks
pci-acs-quirks-for-Intel-9-series-PCH-root-ports.patch

###
### PNP core
###

###
### ACPI
###

# CLEVO M360S acpi irq workaround
acpi-CLEVO-M360S-disable_acpi_irq.patch

# Clevo M720SR freezes with C3
acpi-processor-M720SR-limit-to-C2.patch

###
### Block
###

# epsa2 SCSI driver, don't know from where it came
scsi-ppscsi-2.6.2.patch

# epsa2 is far behind
scsi-ppscsi_fixes.patch

# Fix build of ppscsi on 2.6.24
scsi-ppscsi-sg-helper-update.patch

# Update/fix for ppscsi on 2.6.25
scsi-ppscsi-update-for-scsi_data_buffer.patch

# https://qa.mandriva.com/show_bug.cgi?id=45393
scsi-ppscsi-mdvbz45393.patch

# epsa2 3.0 buildfix
scsi-ppscsi-3.0-buildfix.patch

# Don't know know why this is needed
scsi-megaraid-new-sysfs-name.patch

# Looks like fixes from Arnaud, not sure why they're needed
ide-pci-sis5513-965.patch

mpt-vmware-fix.patch

# adds aliases to support upgrade from old dm-raid45 patch
dm-raid-aliases.patch

# disable floppy autoloading (mga #4696)
block-floppy-disable-pnp-modalias.patch

# prefer ata over ide drivers
ata-prefer-ata-drivers-over-ide-drivers-when-both-are-built.patch

# Nice SSD speedup
block-Make-CFQ-default-to-IOPS-mode-on-SSDs.patch
block-cfq-iosched-fix-the-setting-of-IOPS-mode-on-SSDs.patch

# properly fix null pointer deref introduced in 4.1.7
scsi-Revert-SCSI-Fix-NULL-pointer-dereference-in-runtime-PM.patch
scsi-Fix-NULL-pointer-dereference-in-RTPM-of-block-layer.patch

###
### File-system
###

# aufs from: http://aufs.sourceforge.net/ (mga#8314)
fs-aufs4.patch
fs-aufs4-modular.patch

# ext4
fs-Revert-ext4-remove-block_device_ejected.patch

###
### FireWire
###

# adding module aliases to ease upgrade from ieee1394
firewire-ieee1394-module-aliases.patch

###
### GPU/DRM
###

# new Q57 Host Bridge id
char-agp-intel-new-Q57-id.patch

# External mach64 drm support from git://anongit.freedesktop.org/git/mesa/drm
gpu-drm-mach64.patch
gpu-drm-mach64-fixes.patch
gpu-drm-mach64-2.6.31.patch
gpu-drm-mach64-fix-for-changed-drm_pci_alloc.patch
gpu-drm-mach64-fix-for-changed-drm_ioctl.patch
gpu-drm-mach64-2.6.36-buildfix.patch
gpu-drm-mach64-2.6.37-buildfix.patch
gpu-drm-mach64-3.0-buildfix.patch
gpu-drm-mach64-include-module.h.patch
gpu-drm-mach64-3.3-buildfix.patch
gpu-drm-mach64-3.6-buildfix.patch
gpu-drm-mach64-3.7-buildfix.patch
gpu-drm-mach64-3.12-buildfix.patch
gpu-drm-mach64-restore-mach64_PCI_IDS.patch
gpu-drm-mach64-linux-3.14-buildfix.patch
gpu-drm-mach64-3.17-buildfix.patch
gpu-drm-mach64-3.18-buildfix.patch

###
### Hardware Monitoring
###

###
### Input
###

input-i8042-quirks-for-Fujitsu-Lifebook-A544-and-Lif.patch

# fixes systemd-logind killing itself
Input-evdev-do-not-report-errors-form-flush.patch

###
### idle
###

###
### Kbuild
###

###
### Media
###

###
### Misc
###

###
### MM
###

###
### Network
###

# SiS 190 fixes
net-sis190-fix-list-usage.patch

# netfilter IFWLOG support
net-netfilter-IFWLOG.patch
net-netfilter-IFWLOG-mdv.patch
net-netfilter-IFWLOG-2.6.35-buildfix.patch
net-netfilter-IFWLOG-2.6.37-buildfix.patch
net-ipv4-netfilter-ipt_IFWLOG-3.6-buildfix.patch
net-netfilter-IFWLOG-3.7-buildfix.patch

# netfilter psd support
net-netfilter-psd.patch
net-netfilter-psd-mdv.patch
net-netfilter-psd-2.6.35-buildfix.patch

###
### Platform drivers
###

# Allow access to Shuttle WMI interface controls
# (Mainly allow turning on/off webcam and wireless on Shuttle DA18IE and DA18IM)
platform-x86-add-shuttle-wmi-driver.patch
platform-x86-shuttle-wmi-drop-devinit-exit.patch

###
### RTC
###

###
### Serial
###

# Export pci_ids.h to user space, needed by ldetect
include-kbuild-export-pci_ids.patch

###
### Sound
###

###
### Staging
###


###
### TTY
###

###
### USB
###

hid-usbhid-IBM-BladeCenterHS20-quirk.patch

usb-storage-unusual_devs-add-id.patch
usb-storage-unusual_devs-add-id-2.6.37-buildfix.patch

###
### V4L
###

# pwc driver name in /proc/bus/devices, /sys fix and "advertisement" removal
media-usb-pwc-lie-in-proc-usb-devices.patch

###
### Video
###

# Mageia framebuffer boot logo
video-mageia-logo.patch

###
### 3rdparty
###

3rd-3rdparty-1.0-tree.patch

# TODO: fix up patch below to include all archs?
3rd-3rdparty-merge.patch

# acerhk
3rd-acerhk-0.5.35.patch
3rd-acerhk-kbuild.patch
3rd-acerhk-extra-cflags.patch
3rd-acerhk-proc_dir_entry-owner.patch
3rd-acerhk-fix-build-with-function-tracer.patch
3rd-acerhk-2.6.36-buildfix.patch
3rd-acerhk-fix-include.patch

# aes2501
3rd-aes2501-r19.patch
3rd-aes2501-kbuild.patch
3rd-aes2501-rmmod-oops-fix.patch

# ndiswrapper
3rd-ndiswrapper-1.59.patch
3rd-ndiswrapper-Kconfig.patch
3rd-ndiswrapper-Makefile-build-fix.patch
3rd-ndiswrapper-linux-3.14-buildfix.patch
3rd-ndiswrapper-4.0-buildfix.patch

# rfswitch
3rd-rfswitch-1.3.patch
3rd-rfswitch-build-fix.patch
3rd-rfswitch-3.0-buildfix.patch

# viahss
3rd-viahss-0.92.patch
3rd-viahss-config.patch
3rd-viahss-module-license.patch
3rd-viahss-2.6.35-buildfix.patch
3rd-viahss-3.0-buildfix.patch

# add rtl8723bs support (mga#15874)
3rd-rtl8723bs.patch
3rd-rtl8723bs-buildfix.patch
3rd-rtl8723bs-updates.patch

###
### Security
###

###
### Smack fixes
###

###
### XEN
###

###
### ARM
###

###
### IA64
###

###
### Tools
###
